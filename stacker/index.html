<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A library to help grow the stack when it runs out of space."><meta name="keywords" content="rust, rustlang, rust-lang, stacker"><title>stacker - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../stacker/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../stacker/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate stacker</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.15</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../stacker/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">stacker</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/stacker/lib.rs.html#1-459">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A library to help grow the stack when it runs out of space.</p>
<p>This is an implementation of manually instrumented segmented stacks where points in a program’s
control flow are annotated with “maybe grow the stack here”. Each point of annotation indicates
how far away from the end of the stack it’s allowed to be, plus the amount of stack to allocate
if it does reach the end.</p>
<p>Once a program has reached the end of its stack, a temporary stack on the heap is allocated and
is switched to for the duration of a closure.</p>
<p>For a set of lower-level primitives, consider the <code>psm</code> crate.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Grow the stack if we are within the &quot;red zone&quot; of 32K, and if we allocate
// a new stack allocate 1MB of stack space.
//
// If we&#39;re already in bounds, just run the provided closure on current stack.
</span>stacker::maybe_grow(<span class="number">32 </span>* <span class="number">1024</span>, <span class="number">1024 </span>* <span class="number">1024</span>, || {
    <span class="comment">// guaranteed to have at least 32K of stack
</span>});</code></pre></div>
</div></details><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.grow.html" title="stacker::grow fn">grow</a></div><div class="item-right docblock-short"><p>Always creates a new stack for the passed closure to run on.
The closure will still be on the same thread as the caller of <code>grow</code>.
This will allocate a new stack with at least <code>stack_size</code> bytes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.maybe_grow.html" title="stacker::maybe_grow fn">maybe_grow</a></div><div class="item-right docblock-short"><p>Grows the call stack if necessary.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.remaining_stack.html" title="stacker::remaining_stack fn">remaining_stack</a></div><div class="item-right docblock-short"><p>Queries the amount of remaining stack as interpreted by this library.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="stacker" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0-nightly (40336865f 2022-08-15)" ></div></body></html>